---
table_name: subscription_user_add_on_assignments
description: Tracks the assignment of an add-on to a user within a namespace
introduced_by_url: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/123967
milestone: '16.2'
feature_categories:
- seat_cost_management
classes:
- GitlabSubscriptions::UserAddOnAssignment
gitlab_schema: gitlab_main_cell
allow_cross_joins:
  - gitlab_main_clusterwide
allow_cross_transactions:
  - gitlab_main_clusterwide
allow_cross_foreign_keys:
  - gitlab_main_clusterwide
desired_sharding_key:
  namespace_id:
    references: namespaces
    backfill_via:
      parent:
        foreign_key: add_on_purchase_id
        table: subscription_add_on_purchases
        sharding_key: namespace_id
        belongs_to: add_on_purchase
