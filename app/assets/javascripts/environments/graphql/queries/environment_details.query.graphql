query getEnvironmentDetails($projectFullPath: ID!, $environmentName: String, $pageSize: Int) {
  project(fullPath: $projectFullPath) {
    id
    name
    environments(name: $environmentName) {
      nodes {
        id
        name
        state
        deployments(orderBy: { createdAt: DESC }, first: $pageSize) {
          nodes {
            id
            iid
            status
            ref
            tag
            job {
              name
              id
              webPath
            }
            commit {
              id
              shortId
              message
              webUrl
              author {
                id
                name
                avatarUrl
                webUrl
              }
            }
            triggerer {
              id
              webUrl
              name
              avatarUrl
            }
            createdAt
            finishedAt
          }
        }
      }
    }
  }
}
